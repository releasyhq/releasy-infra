# Keycloak host settings.

keycloak_enabled: false
keycloak_image: "keycloak/keycloak:26.4"

# Public hostname used for redirects and token issuer.
keycloak_hostname: "auth.example.com"

# Container listens on 8080 inside the host.
keycloak_http_port: 8080
keycloak_instance_port_base: "{{ keycloak_http_port }}"
keycloak_instances:
  - a
  - b
keycloak_container_name_prefix: "keycloak"

# Cluster and health settings (for HA).
keycloak_cluster_enabled: true
keycloak_cache_stack: "jdbc-ping"
keycloak_healthcheck_path: "/health/ready"
keycloak_healthcheck_timeout: 120

keycloak_data_dir: "/var/lib/keycloak"
keycloak_env_dir: "/etc/keycloak"
keycloak_env_file: "/etc/keycloak/keycloak.env"
keycloak_docker_extra_args: []

keycloak_db_host: "{{ postgres_host }}"
keycloak_db_port: "{{ postgres_port }}"
keycloak_db_name: "keycloak"
keycloak_db_user: "keycloak"
keycloak_db_ssl_mode: "disable"

keycloak_proxy_headers: "xforwarded"
keycloak_http_enabled: true
keycloak_hostname_strict: true
keycloak_hostname_strict_https: true
keycloak_health_enabled: true
keycloak_metrics_enabled: false

keycloak_realm_import_enabled: false
keycloak_realm_import_source: "template"
keycloak_realm_import_src: ""
keycloak_realm_import_dest: "realm.json"
keycloak_start_args: []

keycloak_realm_name: "releasy"
keycloak_portal_client_id: "releasy-portal"
keycloak_portal_root_url: "https://portal.example.com"
keycloak_portal_redirect_uris:
  - "{{ keycloak_portal_root_url }}/*"
keycloak_portal_web_origins:
  - "{{ keycloak_portal_root_url }}"
