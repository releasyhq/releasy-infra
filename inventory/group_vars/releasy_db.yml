# Postgres host settings.

# Tailscale (optional).
tailscale_enabled: true
tailscale_hostname: "releasy-db"

# Keycloak database access (optional).
keycloak_db_allowed_cidrs: []

# Listen addresses on the DB host. Use "tailscale" to auto-detect the
# tailscale0 IPv4 address.
postgres_listen_addresses: "tailscale"

# CIDRs allowed to connect (e.g. app host private IPs).
postgres_allowed_cidrs:
  - "10.0.1.10/32"

# Auto-allow Tailscale IPv4s from releasy_app hosts when enabled.
postgres_allowed_cidrs_auto_enabled: true

# Optional firewall defaults (db host). Keep disabled by default.
postgres_firewall_enabled: false
postgres_firewall_enable_ufw: false
postgres_firewall_default_deny_incoming: false
postgres_firewall_allow_ssh: true
postgres_firewall_explicit_deny_ssh: true
postgres_firewall_ssh_sources:
  - "100.64.0.0/10"
  - "fd7a:115c:a1e0::/48"
